<? namespace Bitrix\Landing;$GLOBALS['____1002569458']= array(base64_decode('ZGVma'.'W5l'),base64_decode('ZXhw'.'bG9k'.'ZQ=='),base64_decode('cGFj'.'aw=='),base64_decode(''.'bW'.'Q'.'1'),base64_decode(''.'Y29'.'uc3Rhb'.'n'.'Q='),base64_decode('aGF'.'zaF'.'9obWFj'),base64_decode('c3RyY'.'21'.'w'),base64_decode('ZXhw'.'bG9k'.'ZQ'.'='.'='),base64_decode(''.'bWt0aW1l'),base64_decode('dGltZQ=='),base64_decode('ZXhwbG9kZQ=='),base64_decode('cGFjaw=='),base64_decode('bWQ1'),base64_decode('Y29uc'.'3Rhbn'.'Q='),base64_decode('aGF'.'za'.'F9obW'.'Fj'),base64_decode('c3R'.'yY2'.'1w'),base64_decode('Z'.'XhwbG9kZQ=='),base64_decode('bW'.'t'.'0aW1l'),base64_decode('dG'.'ltZQ=='),base64_decode('aW5fYXJyYXk='),base64_decode('cH'.'JlZ'.'19yZXB'.'sYW'.'N'.'l'.'X2'.'NhbG'.'x'.'iYWNr'),base64_decode('c3Ry'.'dG9s'.'b'.'3dl'.'cg=='),base64_decode('c'.'HJlZ19tYXR'.'jaA=='),base64_decode('cHJl'.'Z'.'19yZXBsYWN'.'lX2NhbG'.'xiYWNr'));if(!function_exists(__NAMESPACE__.'\\___1740042761')){function ___1740042761($_1816035714){static $_847686558= false; if($_847686558 == false) $_847686558=array('TE'.'F'.'OR'.'ElOR'.'1'.'9NVV'.'RBVE9'.'SX01PRE'.'U=','Z'.'mlsdG'.'Vy','I'.'U'.'lE',''.'UFV'.'C'.'T'.'ElDX1BBR'.'0VfUk'.'VBQ'.'0h'.'FRA==','TEFORElOR19QVUJMSUNfUEFHRV9SRU'.'FDSEV'.'E','c'.'2Vs'.'ZWN0','SUQ=','VFl'.'QR'.'Q==','Zmls'.'dGVy','SUQ=','PUFDVElWRQ='.'=','Tg='.'=',''.'Z'.'mlsdGVy','IUlE',''.'SUQ=','dHlwZQ==','VFl'.'QRQ==','UFV'.'CT'.'El'.'DX1NJVEV'.'f'.'UkVBQ0'.'hFRA==','TEFOREl'.'OR19QVUJM'.'SU'.'N'.'f'.'U0lURV9SRUFD'.'SEV'.'E','b'.'GFu'.'Z'.'GluZw='.'=','b'.'25MYW5'.'kaW'.'5nU'.'HVibGljYXRpb24=','aWQ=','REI=','U0VMR'.'U'.'NUIFZBTFVFIE'.'Z'.'ST00gYl9'.'vcHR'.'pb'.'24gV0hFUkUgTkFNRT0'.'nfl'.'BBUkF'.'N'.'X0ZJT'.'klTSF9'.'EQVRF'.'JyBB'.'TkQgTU9'.'EVUxFX0'.'lE'.'PSd'.'tY'.'WluJy'.'B'.'BTkQ'.'gU0lUR'.'V9JRCBJUyBOVUx'.'M','V'.'kF'.'MVUU=','Lg'.'==','SCo=',''.'Yml'.'0c'.'ml4','TElDRU5TRV9L'.'RVk=','c2hhM'.'jU2','MjAxOC0wMS0wMQ==','Mj'.'AxOC0wMS0wMQ'.'==','LQ'.'==',''.'TE'.'l'.'DR'.'U5'.'T'.'R'.'V9F'.'WFBJUkVE','TE'.'FOREl'.'OR'.'1'.'9MSUNFTlN'.'FX'.'0VY'.'UElSRUQ=','REI=',''.'U0VM'.'RUNUIFZ'.'B'.'TFVFIE'.'ZST0'.'0gYl9'.'vcH'.'Rp'.'b24gV'.'0hFUkUgTkF'.'NRT0nfl'.'B'.'BUk'.'FNX0ZJTkl'.'TSF9E'.'Q'.'VRFJyBBTk'.'QgT'.'U9E'.'V'.'UxFX0lEPSdtYW'.'lu'.'JyBBTk'.'QgU0lURV9'.'JRCBJU'.'yBOVUxM','VkFMVUU=','Lg==','S'.'Co=',''.'Yml0'.'cm'.'l4','TElDRU5TRV'.'9LR'.'V'.'k=','c2hhMjU'.'2','M'.'jAxOC0wMS0wM'.'Q==',''.'Mj'.'A'.'x'.'OC0w'.'MS'.'0wMQ==','LQ='.'=',''.'T'.'E'.'lD'.'RU5TRV9FWF'.'BJUkVE','T'.'EFO'.'RE'.'lOR'.'19MSUNF'.'TlN'.'FX'.'0VYUElSRUQ=','QUNU'.'SVZF','W'.'Q==',''.'UFV'.'CT'.'ElD','WQ'.'==',''.'REFURV9QVUJ'.'MSUM=','R'.'EFUR'.'V9NT0RJ'.'R'.'l'.'k'.'=',''.'Q'.'UN'.'US'.'VZF','WQ==','Lyh'.'bX'.'Dsi'.'XXswLDF9'.'KSNib'.'G'.'9ja'.'yhbXGRdKykoW1w'.'mIl17'.'MCwxfSk'.'vaXM'.'=','c2VsZWN0','SUQ=','UFVCTEl'.'D','U'.'EFSRU5UX0lE',''.'Q09ERQ==','U'.'09'.'S'.'VA'.'==','QU'.'N'.'USVZF','QU5DSE9S','QUN'.'DR'.'V'.'NT',''.'Q09OVEVOVA==','Zmlsd'.'GV'.'y',''.'TE'.'lE','PUR'.'FTEVURUQ=','Tg==',''.'S'.'UQ=',''.'UFVCTE'.'lD','WQ==','Q09OVEVO'.'VA'.'==','L2'.'hyZWZcPSIjY2'.'F0YWxv'.'Z'.'yhFbGVt'.'Z'.'W50fF'.'NlY'.'3Rpb24p'.'KFtcZ'.'F0rKSIv'.'aQ==','aHJlZj0'.'i','Ig='.'=','Q09'.'OVEVO'.'VA==',''.'UEFSRU'.'5'.'UX0lE','UEFSR'.'U5UX0lE','S'.'UQ=','U0'.'9SVA==','U0'.'9'.'SVA==','Q'.'UNU'.'SVZF',''.'QUNUSVZF','QU5DSE9'.'S',''.'QU5DSE9S','QUNDRVN'.'T','Q'.'U'.'N'.'DRVNT','Q09OVEVOVA==',''.'Q09OVEVOVA==',''.'UEFSRU5UX0'.'lE',''.'Q09OV'.'EVOVA==','TElE','Q0'.'9ERQ==','Q'.'09ERQ==','U09SVA==','U0'.'9SVA==','QU5DSE9S','QU5DSE9S','QUNUSVZF','QUN'.'USVZF','QUNDRVNT','QUNDRVN'.'T','Q'.'0'.'9O'.'VEV'.'OVA='.'=','Q09OVEVOVA==',''.'U'.'EFSRU5U'.'X0'.'lE',''.'Q09O'.'VEVOVA==','Q'.'09'.'OVEVOVA'.'==','Q'.'09OV'.'EVOV'.'A==',''.'I2J'.'sb2'.'Nr',''.'I2Jsb2'.'Nr',''.'Q'.'09'.'O'.'V'.'EV'.'O'.'VA==');return base64_decode($_847686558[$_1816035714]);}}; use \Bitrix\Main\Event; use \Bitrix\Main\EventResult; use \Bitrix\Main\Localization\Loc; Loc::loadMessages(__FILE__); $GLOBALS['____1002569458'][0](___1740042761(0), true); class Mutator{  public static function landingPublication(Landing $landing){ static $_1465337579= array();  if(!Manager::checkFeature( Manager::FEATURE_PUBLICATION_PAGE, array( ___1740042761(1) => array( ___1740042761(2) => $landing->getId())))){ $landing->getError()->addError( ___1740042761(3), Loc::getMessage(___1740042761(4))); return false;}  $_21922711= Site::getList(array( ___1740042761(5) => array( ___1740042761(6), ___1740042761(7)), ___1740042761(8) => array( ___1740042761(9) => $landing->getSiteId(), ___1740042761(10) => ___1740042761(11)))); if($_875266249= $_21922711->fetch()){ if(!Manager::checkFeature( Manager::FEATURE_PUBLICATION_SITE, array( ___1740042761(12) => array( ___1740042761(13) => $_875266249[___1740042761(14)]), ___1740042761(15) => $_875266249[___1740042761(16)]))){ $landing->getError()->addError( ___1740042761(17), Loc::getMessage(___1740042761(18))); return false;}}  $_1748265221= new Event(___1740042761(19), ___1740042761(20), array( ___1740042761(21) => $landing->getId())); $_1748265221->send(); foreach($_1748265221->getResults() as $_1012636980){ if($_1012636980->getResultType() == EventResult::ERROR){ foreach($_1012636980->getErrors() as $_525597842){ $landing->getError()->addError( $_525597842->getCode(), $_525597842->getMessage());} return false;}} $_1507578371= $GLOBALS[___1740042761(22)]->Query(___1740042761(23), true); if($_21922711= $_1507578371->Fetch()){ $_1407274066= $_21922711[___1740042761(24)]; list($_903107007, $_1023640006)= $GLOBALS['____1002569458'][1](___1740042761(25), $_1407274066); $_1747488553= $GLOBALS['____1002569458'][2](___1740042761(26), $_903107007); $_1744396603= ___1740042761(27).$GLOBALS['____1002569458'][3]($GLOBALS['____1002569458'][4](___1740042761(28))); $_1583414485= $GLOBALS['____1002569458'][5](___1740042761(29), $_1023640006, $_1744396603, true); if($GLOBALS['____1002569458'][6]($_1583414485, $_1747488553) !==(130*2-260)){ $_1023640006= ___1740042761(30);}} else{ $_1023640006= ___1740042761(31);} if(!empty($_1023640006)){ $_1404573171= $GLOBALS['____1002569458'][7](___1740042761(32), $_1023640006); $_895433398= $GLOBALS['____1002569458'][8]((161*2-322),(910-2*455),(1056/2-528), $_1404573171[round(0+0.5+0.5)], $_1404573171[round(0+0.4+0.4+0.4+0.4+0.4)], $_1404573171[min(84,0,28)]); if($_895433398 <= $GLOBALS['____1002569458'][9]()){ $landing->getError()->addError( ___1740042761(33), Loc::getMessage(___1740042761(34))); return false;}} $_1507578371= $GLOBALS[___1740042761(35)]->Query(___1740042761(36), true); if($_21922711= $_1507578371->Fetch()){ $_1407274066= $_21922711[___1740042761(37)]; list($_903107007, $_1023640006)= $GLOBALS['____1002569458'][10](___1740042761(38), $_1407274066); $_1747488553= $GLOBALS['____1002569458'][11](___1740042761(39), $_903107007); $_1744396603= ___1740042761(40).$GLOBALS['____1002569458'][12]($GLOBALS['____1002569458'][13](___1740042761(41))); $_1583414485= $GLOBALS['____1002569458'][14](___1740042761(42), $_1023640006, $_1744396603, true); if($GLOBALS['____1002569458'][15]($_1583414485, $_1747488553) !==(1220/2-610)){ $_1023640006= ___1740042761(43);}} else{ $_1023640006= ___1740042761(44);} if(!empty($_1023640006)){ $_1404573171= $GLOBALS['____1002569458'][16](___1740042761(45), $_1023640006); $_895433398= $GLOBALS['____1002569458'][17]((882-2*441), min(54,0,18),(872-2*436), $_1404573171[round(0+0.5+0.5)], $_1404573171[round(0+0.5+0.5+0.5+0.5)], $_1404573171[min(76,0,25.333333333333)]); if($_895433398 <= $GLOBALS['____1002569458'][18]()){ $landing->getError()->addError( ___1740042761(46), Loc::getMessage(___1740042761(47))); return false;}}  Block::publicationBlocks($landing); $_68765247= new \Bitrix\Main\Type\DateTime; $_21922711= Landing::update($landing->getId(), array( ___1740042761(48) => ___1740042761(49), ___1740042761(50) => ___1740042761(51), ___1740042761(52) => $_68765247, ___1740042761(53) => false));  if($_21922711->isSuccess()){ if( Manager::isB24() &&!$GLOBALS['____1002569458'][19]($landing->getSiteId(), $_1465337579)){ $_1465337579[]= $landing->getSiteId(); $_21922711= Site::update($landing->getSiteId(), array( ___1740042761(54) => ___1740042761(55))); $_21922711->isSuccess();} return true;} return false;}  public static function blocksPublication(\Bitrix\Landing\Landing $landing){ if($landing->exist()){ $_727545384= $landing->getId(); $_1461634881= array(); $_1949845582= array(); $_832299361= array(); $_1279387401= ___1740042761(56); $_21922711= Block::getList(array( ___1740042761(57) => array( ___1740042761(58), ___1740042761(59), ___1740042761(60), ___1740042761(61), ___1740042761(62), ___1740042761(63), ___1740042761(64), ___1740042761(65), ___1740042761(66)), ___1740042761(67) => array( ___1740042761(68) => $landing->getId(), ___1740042761(69) => ___1740042761(70)))); while($_875266249= $_21922711->fetch()){ $_1461634881[$_875266249[___1740042761(71)]]= $_875266249;}  foreach($_1461634881 as $_5837075 => $_1548594280){ if($_1548594280[___1740042761(72)] != ___1740042761(73)){  $_1548594280[___1740042761(74)]= $GLOBALS['____1002569458'][20]( ___1740042761(75), function($_305033716){ return ___1740042761(76). PublicAction\Utils::getIblockURL( $_305033716[round(0+2)], $GLOBALS['____1002569458'][21]($_305033716[round(0+0.33333333333333+0.33333333333333+0.33333333333333)])). ___1740042761(77);}, $_1548594280[___1740042761(78)]); $_2086583477= isset($_1461634881[$_1548594280[___1740042761(79)]])? $_1461634881[$_1548594280[___1740042761(80)]][___1740042761(81)]:(1116/2-558); if($_2086583477){ $_21922711= Block::update($_2086583477, array( ___1740042761(82) => $_1548594280[___1740042761(83)], ___1740042761(84) => $_1548594280[___1740042761(85)], ___1740042761(86) => $_1548594280[___1740042761(87)], ___1740042761(88) => $_1548594280[___1740042761(89)], ___1740042761(90) => $_1548594280[___1740042761(91)])); $_21922711->isSuccess(); unset($_1461634881[$_1548594280[___1740042761(92)]]);  File::replaceInBlock( $_2086583477, File::getFilesFromBlockContent( $_5837075, $_1548594280[___1740042761(93)]));} else{ $_21922711= Block::add(array( ___1740042761(94) => $_727545384, ___1740042761(95) => $_1548594280[___1740042761(96)], ___1740042761(97) => $_1548594280[___1740042761(98)], ___1740042761(99) => $_1548594280[___1740042761(100)], ___1740042761(101) => $_1548594280[___1740042761(102)], ___1740042761(103) => $_1548594280[___1740042761(104)], ___1740042761(105) => $_1548594280[___1740042761(106)])); if($_21922711->isSuccess()){ $_2086583477= $_21922711->getId(); $_21922711= Block::update($_5837075, array( ___1740042761(107) => $_2086583477)); $_21922711->isSuccess();  File::addToBlock( $_2086583477, File::getFilesFromBlockContent( $_5837075, $_1548594280[___1740042761(108)]));}} if($GLOBALS['____1002569458'][22]($_1279387401, $_1548594280[___1740042761(109)])){ $_1949845582[$_2086583477]= $_1548594280[___1740042761(110)];} $_832299361[$_5837075]= $_2086583477; unset($_1461634881[$_5837075]);}}  foreach($_1461634881 as $_5837075 => $_1548594280){ $_21922711= Block::delete($_5837075); $_21922711->isSuccess();}  foreach($_1949845582 as $_5837075 => $_854137154){ $_854137154= $GLOBALS['____1002569458'][23]( $_1279387401, function($_1241969325) use($_832299361){ if(isset($_832299361[$_1241969325[round(0+0.66666666666667+0.66666666666667+0.66666666666667)]])){ return $_1241969325[round(0+0.25+0.25+0.25+0.25)]. ___1740042761(111). $_832299361[$_1241969325[round(0+0.4+0.4+0.4+0.4+0.4)]]. $_1241969325[round(0+0.75+0.75+0.75+0.75)];} else{ return $_1241969325[round(0+1)]. ___1740042761(112). $_1241969325[round(0+1+1)]. $_1241969325[round(0+1.5+1.5)];}}, $_854137154); $_21922711= Block::update($_5837075, array( ___1740042761(113) => $_854137154)); $_21922711->isSuccess();}}}}?>